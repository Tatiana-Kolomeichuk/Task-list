{"version":3,"file":"index.js","sources":["../src/js/local-storage-api.js","../src/js/refs.js","../src/js/render-tasks.js","../src/js/handlers.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["const STORAGE_KEY = 'tasks';\n\nexport function getTasks() {\n  return JSON.parse(localStorage.getItem(STORAGE_KEY)) ?? [];\n}\n\nexport function saveTask(task) {\n  const tasks = getTasks();\n  tasks.push(task);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nexport function deleteTask(taskId) {\n  const tasks = getTasks().filter(t => t.id !== taskId);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(tasks));\n}\n\nexport function initTasks() {\n  if (localStorage.getItem(STORAGE_KEY) == null) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify([]));\n  }\n}\n\nexport default { getTasks, saveTask, deleteTask, initTasks };\n\n","export const refs = {\n  form: document.querySelector('#task-form'),\n  taskList: document.querySelector('#task-list'),\n  themeToggle: document.querySelector('#themeToggle'),\n};\n","import { refs } from './refs.js';\n\nexport function renderTasks(tasks) {\n  const markup = tasks\n    .map(({ name, description, id }) => `\n      <li class=\"task-list-item\" data-id=\"${id}\">\n        <button class=\"task-list-item-btn\" data-id=\"${id}\">Delete</button>\n        <h3>${name}</h3>\n        <p>${description}</p>\n      </li>\n    `)\n    .join('');\n\n  refs.taskList.innerHTML = markup;\n}\n","import { nanoid } from 'nanoid';\nimport * as storage from './local-storage-api.js';\nimport { renderTasks } from './render-tasks.js';\n\nexport function onFormSubmit(e) {\n  e.preventDefault();\n  const { taskName, taskDescription } = e.target.elements;\n  const name = taskName.value.trim();\n  const description = taskDescription.value.trim();\n  if (!name || !description) return alert('ÐÐµ Ð²ÑÑ– Ð¿Ð¾Ð»Ñ Ð·Ð°Ð¿Ð¾Ð²Ð½ÐµÐ½Ñ–!');\n\n  storage.saveTask({ id: nanoid(), name, description });\n  renderTasks(storage.getTasks());\n  e.target.reset();\n}\n\nexport function onTaskDelete(e) {\n  const btn = e.target.closest('button.task-list-item-btn');\n  if (!btn) return;\n  const id = btn.dataset.id;\n  if (!id) return;\n\n  storage.deleteTask(id);\n  renderTasks(storage.getTasks());\n}\n","const THEME_KEY = 'theme'; // 'light' | 'dark'\nconst TOGGLE_ID = '#themeToggle';\n\nfunction applyTheme(theme) {\n  document.body.classList.remove('theme-light', 'theme-dark');\n  \n  document.body.classList.add(`theme-${theme}`);\n\n  const btn = document.querySelector(TOGGLE_ID);\n  if (btn) {\n    const dark = theme === 'dark';\n    btn.setAttribute('aria-pressed', String(dark));\n    btn.textContent = dark ? 'â˜€ï¸ Light Theme' : 'ðŸŒ™ Dark Theme';\n  }\n}\n\nfunction getStoredTheme() {\n  return localStorage.getItem(THEME_KEY);\n}\n\nfunction storeTheme(theme) {\n  localStorage.setItem(THEME_KEY, theme);\n}\n\nfunction systemPrefersDark() {\n  return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n}\n\nexport function initTheme() {\n  const stored = getStoredTheme();\n  const initial = stored ?? (systemPrefersDark() ? 'dark' : 'light');\n  applyTheme(initial);\n}\n\nexport function toggleTheme() {\n  const current = document.body.classList.contains('theme-dark') ? 'dark' : 'light';\n  const next = current === 'dark' ? 'light' : 'dark';\n  applyTheme(next);\n  storeTheme(next);\n}\n\nexport default { initTheme, toggleTheme };\n","\nimport storage from './js/local-storage-api.js';\nimport { renderTasks } from './js/render-tasks.js';\nimport { refs } from './js/refs.js';\nimport { onFormSubmit, onTaskDelete } from './js/handlers.js';\nimport { initTheme, toggleTheme } from './js/theme-switcher.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initTheme();\n  refs.themeToggle?.addEventListener('click', toggleTheme);\n\n\n  if (!refs.form) {\n    console.error('Form #task-form not found');\n    return;\n  }\n\n  storage.initTasks();\n  renderTasks(storage.getTasks());\n\n\n  refs.form.addEventListener('submit', onFormSubmit);\n  refs.taskList.addEventListener('click', onTaskDelete);\n});\n\n\n"],"names":["STORAGE_KEY","getTasks","saveTask","task","tasks","deleteTask","taskId","t","initTasks","storage","refs","renderTasks","markup","name","description","id","onFormSubmit","taskName","taskDescription","storage.saveTask","nanoid","storage.getTasks","onTaskDelete","btn","storage.deleteTask","THEME_KEY","TOGGLE_ID","applyTheme","theme","dark","getStoredTheme","storeTheme","systemPrefersDark","initTheme","initial","toggleTheme","next","_a"],"mappings":"svBAAA,MAAMA,EAAc,QAEb,SAASC,GAAW,CACzB,OAAO,KAAK,MAAM,aAAa,QAAQD,CAAW,CAAC,GAAK,EAC1D,CAEO,SAASE,EAASC,EAAM,CAC7B,MAAMC,EAAQH,IACdG,EAAM,KAAKD,CAAI,EACf,aAAa,QAAQH,EAAa,KAAK,UAAUI,CAAK,CAAC,CACzD,CAEO,SAASC,EAAWC,EAAQ,CACjC,MAAMF,EAAQH,EAAQ,EAAG,OAAOM,GAAKA,EAAE,KAAOD,CAAM,EACpD,aAAa,QAAQN,EAAa,KAAK,UAAUI,CAAK,CAAC,CACzD,CAEO,SAASI,GAAY,CACtB,aAAa,QAAQR,CAAW,GAAK,MACvC,aAAa,QAAQA,EAAa,KAAK,UAAU,CAAE,CAAA,CAAC,CAExD,CAEA,MAAeS,EAAA,CAAE,SAAAR,EAAU,SAAAC,EAAU,WAAAG,EAAY,UAAAG,CAAW,ECvB/CE,EAAO,CAClB,KAAM,SAAS,cAAc,YAAY,EACzC,SAAU,SAAS,cAAc,YAAY,EAC7C,YAAa,SAAS,cAAc,cAAc,CACpD,ECFO,SAASC,EAAYP,EAAO,CACjC,MAAMQ,EAASR,EACZ,IAAI,CAAC,CAAE,KAAAS,EAAM,YAAAC,EAAa,GAAAC,CAAI,IAAK;AAAA,4CACIA,CAAE;AAAA,sDACQA,CAAE;AAAA,cAC1CF,CAAI;AAAA,aACLC,CAAW;AAAA;AAAA,KAEnB,EACA,KAAK,EAAE,EAEVJ,EAAK,SAAS,UAAYE,CAC5B,CCVO,SAASI,EAAa,EAAG,CAC9B,EAAE,eAAc,EAChB,KAAM,CAAE,SAAAC,EAAU,gBAAAC,CAAe,EAAK,EAAE,OAAO,SACzCL,EAAOI,EAAS,MAAM,KAAI,EAC1BH,EAAcI,EAAgB,MAAM,KAAI,EAC9C,GAAI,CAACL,GAAQ,CAACC,EAAa,OAAO,MAAM,wBAAwB,EAEhEK,EAAiB,CAAE,GAAIC,EAAQ,EAAE,KAAAP,EAAM,YAAAC,CAAW,CAAE,EACpDH,EAAYU,EAAgB,CAAE,EAC9B,EAAE,OAAO,OACX,CAEO,SAASC,EAAa,EAAG,CAC9B,MAAMC,EAAM,EAAE,OAAO,QAAQ,2BAA2B,EACxD,GAAI,CAACA,EAAK,OACV,MAAMR,EAAKQ,EAAI,QAAQ,GAClBR,IAELS,EAAmBT,CAAE,EACrBJ,EAAYU,EAAgB,CAAE,EAChC,CCxBA,MAAMI,EAAY,QACZC,EAAY,eAElB,SAASC,EAAWC,EAAO,CACzB,SAAS,KAAK,UAAU,OAAO,cAAe,YAAY,EAE1D,SAAS,KAAK,UAAU,IAAI,SAASA,CAAK,EAAE,EAE5C,MAAML,EAAM,SAAS,cAAcG,CAAS,EAC5C,GAAIH,EAAK,CACP,MAAMM,EAAOD,IAAU,OACvBL,EAAI,aAAa,eAAgB,OAAOM,CAAI,CAAC,EAC7CN,EAAI,YAAcM,EAAO,iBAAmB,eAC7C,CACH,CAEA,SAASC,GAAiB,CACxB,OAAO,aAAa,QAAQL,CAAS,CACvC,CAEA,SAASM,EAAWH,EAAO,CACzB,aAAa,QAAQH,EAAWG,CAAK,CACvC,CAEA,SAASI,GAAoB,CAC3B,OAAO,OAAO,YAAc,OAAO,WAAW,8BAA8B,EAAE,OAChF,CAEO,SAASC,GAAY,CAE1B,MAAMC,EADSJ,MACYE,EAAmB,EAAG,OAAS,SAC1DL,EAAWO,CAAO,CACpB,CAEO,SAASC,GAAc,CAE5B,MAAMC,GADU,SAAS,KAAK,UAAU,SAAS,YAAY,EAAI,OAAS,WACjD,OAAS,QAAU,OAC5CT,EAAWS,CAAI,EACfL,EAAWK,CAAI,CACjB,CChCA,SAAS,iBAAiB,mBAAoB,IAAM,OAKlD,GAJAH,KACAI,EAAA3B,EAAK,cAAL,MAAA2B,EAAkB,iBAAiB,QAASF,GAGxC,CAACzB,EAAK,KAAM,CACd,QAAQ,MAAM,2BAA2B,EACzC,MACD,CAEDD,EAAQ,UAAS,EACjBE,EAAYF,EAAQ,SAAQ,CAAE,EAG9BC,EAAK,KAAK,iBAAiB,SAAUM,CAAY,EACjDN,EAAK,SAAS,iBAAiB,QAASY,CAAY,CACtD,CAAC"}